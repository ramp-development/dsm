"use strict";(()=>{var E=e=>{let t="data-chart-item",r=e.querySelector(`[${t}="chart"]`),i=e.querySelector(`[${t}="list"]`),o=[...i.querySelectorAll(`[${t}="item"]`)],c=o.map(n=>n.querySelector(`[${t}="label"]`).textContent),u=o.map(n=>{let d=n.querySelector(`[${t}="background-colour"]`);return window.getComputedStyle(d).getPropertyValue("color")}),m=o.map(n=>n.querySelector(`[${t}="value"]`).textContent),p=new Chart(r,{type:"doughnut",data:{labels:c,datasets:[{label:e.dataset.chartLabel,backgroundColor:u,data:m}]}})};var a=(e,t)=>(Array.isArray(t)||(t=[t]),t.map(i=>e.dispatchEvent(new Event(i,{bubbles:!0}))).every(i=>i));var S=()=>{let e=document.querySelector('[data-disclaimer="component"]');if(!e)return;let t=!1,r=e.querySelector('select[data-disclaimer="select"]'),i=e.querySelector('[data-disclaimer="open"]'),o=e.querySelector('[data-disclaimer="decline"]'),c=e.querySelector('[data-disclaimer="agree"]'),u=["United Kingdom","Guernsey","Isle of Man","Jersey","Sweden","The Republic of Ireland"];if(sessionStorage.getItem("disclaimer"))return;a(i,"click"),document.body.style.overflow="hidden";let m=(s,l)=>{s.style.opacity=l?"1":"0.5",s.style.pointerEvents=l?"auto":"none",s.setAttribute("tabindex",l?"0":"-1"),t=l};m(o,!0),m(c,!1);let p={element:r,next:o,previous:o},n={element:o,next:r,previous:r},d={element:c,next:r,previous:o},f=[p,n,d];setTimeout(()=>{f[0].element.focus(),f.forEach(s=>{s.element.addEventListener("keydown",l=>{l.which===9&&(l.preventDefault(),l.shiftKey||s.next.focus(),l.shiftKey&&s.previous.focus())})})},500),r.addEventListener("change",()=>{m(c,u.includes(r.value)),p.previous=t?c:o,n.next=t?c:r}),c.addEventListener("keyup",s=>{s.which===13&&a(c,"click")}),o.addEventListener("keyup",s=>{s.which===13&&a(o,"click")}),c.addEventListener("click",()=>{t&&(sessionStorage.setItem("disclaimer","true"),document.body.style.removeProperty("overflow"),setTimeout(()=>{e.remove()},350))}),o.addEventListener("click",()=>{window.location.replace("https://www.downing.co.uk/")})};var x=()=>{let e=document.querySelector(".nav_component");e&&(window.scrollY>=64&&e.classList.add("is-scrolled"),window.addEventListener("scroll",()=>{window.scrollY>=64?e.classList.add("is-scrolled"):e.classList.remove("is-scrolled")}))};var y=()=>{let e=document.querySelector(".collection-wrapper"),t=e==null?void 0:e.querySelector('form [fs-cmsfilter-element="reset"]'),r=e==null?void 0:e.querySelector('.resources_empty [fs-cmsfilter-element="reset"]');r==null||r.addEventListener("click",()=>{a(t,"click")})};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{S(),x();let{pathname:e}=window.location;e.includes("the-company")&&[...document.querySelectorAll('[data-chart-item="wrapper"]')].forEach(r=>{E(r)}),e.includes("resources")&&y()});})();
