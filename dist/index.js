"use strict";(()=>{var E=e=>{let t="data-chart-item",r=e.querySelector(`[${t}="chart"]`),i=e.querySelector(`[${t}="list"]`),o=[...i.querySelectorAll(`[${t}="item"]`)],n=o.map(l=>l.querySelector(`[${t}="label"]`).textContent),d=o.map(l=>{let u=l.querySelector(`[${t}="background-colour"]`);return window.getComputedStyle(u).getPropertyValue("color")}),m=o.map(l=>l.querySelector(`[${t}="value"]`).textContent),p=new Chart(r,{type:"doughnut",options:{responsive:!0,maintainAspectRatio:!0},data:{labels:n,datasets:[{label:e.dataset.chartLabel,backgroundColor:d,data:m}]}})};var a=(e,t)=>(Array.isArray(t)||(t=[t]),t.map(i=>e.dispatchEvent(new Event(i,{bubbles:!0}))).every(i=>i));var S=()=>{let e=document.querySelector('[data-disclaimer="component"]');if(!e)return;let t=!1,r=e.querySelector('select[data-disclaimer="select"]'),i=e.querySelector('[data-disclaimer="open"]'),o=e.querySelector('[data-disclaimer="decline"]'),n=e.querySelector('[data-disclaimer="agree"]'),d=["United Kingdom","Guernsey","Isle of Man","Jersey","Sweden","The Republic of Ireland"];if(sessionStorage.getItem("disclaimer"))return;a(i,"click"),document.body.style.overflow="hidden";let m=(s,c)=>{s.style.opacity=c?"1":"0.5",s.style.pointerEvents=c?"auto":"none",s.setAttribute("tabindex",c?"0":"-1"),t=c};m(o,!0),m(n,!1);let p={element:r,next:o,previous:o},l={element:o,next:r,previous:r},u={element:n,next:r,previous:o},f=[p,l,u];setTimeout(()=>{f[0].element.focus(),f.forEach(s=>{s.element.addEventListener("keydown",c=>{c.which===9&&(c.preventDefault(),c.shiftKey||s.next.focus(),c.shiftKey&&s.previous.focus())})})},500),r.addEventListener("change",()=>{m(n,d.includes(r.value)),p.previous=t?n:o,l.next=t?n:r}),n.addEventListener("keyup",s=>{s.which===13&&a(n,"click")}),o.addEventListener("keyup",s=>{s.which===13&&a(o,"click")}),n.addEventListener("click",()=>{t&&(sessionStorage.setItem("disclaimer","true"),document.body.style.removeProperty("overflow"),setTimeout(()=>{e.remove()},350))}),o.addEventListener("click",()=>{window.location.replace("https://www.downing.co.uk/")})};var x=()=>{let e=document.querySelector(".nav_component");e&&(window.scrollY>=64&&e.classList.add("is-scrolled"),window.addEventListener("scroll",()=>{window.scrollY>=64?e.classList.add("is-scrolled"):e.classList.remove("is-scrolled")}))};var y=()=>{let e=document.querySelector(".collection-wrapper"),t=e==null?void 0:e.querySelector('form [fs-cmsfilter-element="reset"]'),r=e==null?void 0:e.querySelector('.resources_empty [fs-cmsfilter-element="reset"]');r==null||r.addEventListener("click",()=>{a(t,"click")})};window.Webflow||(window.Webflow=[]);window.Webflow.push(()=>{S(),x();let{pathname:e}=window.location;e.includes("the-company")&&[...document.querySelectorAll('[data-chart-item="wrapper"]')].forEach(r=>{E(r)}),e.includes("resources")&&y()});})();
